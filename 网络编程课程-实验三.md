---
show: step
version: 1.0
enable_checker: true
---

# TCP Socket 编程实现

## 实验介绍

关于网络编程其实在互联网中应用是非常广泛的，本实验将从网络编程的基础知识入手，主要介绍网络中的典型协议、端口、网络分层模型以及通信过程，为后续的实验打下基础。

#### 知识点

- 网络套接字
- 网络字节序
- Socket 编程创建流程
- TCP-C/S 模型实现

## 网络套接字

#### 套接字 Socket 的介绍

- 什么是 Socket

从生活中的角度来解释，协议可理解为一种“契约”，是相互遵循的一种标准；同样，从网络应用的角度来看，协议可理解为数据传输和数据解释的一种规则。

举个例子，假设张三（发送方）想要传输文件给李四（接收方），需要遵循以下过程来进行：

1. 首先，发送方传输文件名过去，接收方收到文件名后，响应 OK 给发送方；
2. 然后，发送方发送文件的大小过去，接收方收到文件大小的数据后，再响应一个 OK 给发送方；
3. 最后，发送方发送文件的内容，同样，接收方接收完文件内容的数据后，响应最后的 OK 给发送方，表示文件已经接收成功。

#### 网络套接字通信原理

逻辑意义上的端口，一般是指 TCP/IP 协议中的端口，端口号的范围从 0 到 65535，比如用于浏览网页服务的 80 端口，用于 FTP 服务的 21 端口等。

## 网络字节序

#### 网络字节序的介绍

而浏览器/服务器的模式中则不一样，只需要在一方部署服务器，另外一方使用电脑都会配置有的浏览器即可完成数据的传输，是一种从传统的两层 C/S 模式发展起来的新的网络结构模式，其本质是三层结构的 C/S 模式。两种模式的优缺点及其如何选择下面会继续讲到。



## 网络套接字 Socket 模型

#### 模型的创建流程

#### 模型的函数解析

TCP/IP 网络协议栈分为应用层、传输层、网络层和链路层四层，一般在应用开发过程中，讨论最多的是 TCP/IP 模型。四层模型如下图所示：



## TCP-C/S 模型实现

#### 基于 C 语言实现

- 服务端 server

- 客户端 client

#### 基于 Go 语言实现

- 服务端 server

- 客户端 client




## TCP 粘包

#### 粘包的介绍

#### 粘包示例代码（Go 语言实现）

#### 解决粘包的方法



## 实验总结

网络的核心基础是一系列协议，而网络编程则是基于这些协议，对网络中的数据进行处理传输等。掌握好网络编程的基础，意味着为后面实操网络编程的实验做准备，希望同学们能够沉下心来把基础打牢。
