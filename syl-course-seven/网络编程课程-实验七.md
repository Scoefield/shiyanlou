---
show: step
version: 1.0
enable_checker: true
---

# 使用 Socket 实现并发通讯服务案例

## 实验介绍

本实验主要介绍如何用 Socket 编程知识实现并发通讯服务的案例，从而让大家巩固下前面所学的知识，达到学有所用的效果。

#### 知识点

- TCP Socket 编程简单回顾
- 并发通讯服务案例实现

## TCP Socket 编程的简单流程回顾

#### 服务端的简单处理流程

1. 监听端口，比如：8080
2. 建立客户端和服务的 TCP 连接
3. 创建协程（goroutine），处理客户端请求

#### 客户端的简单处理流程

1. 建立与服务端之间的连接
2. 发送请求数据
3. 接收服务端返回的结果
4. 关闭与服务端之间的连接

#### 简单程序流程示意图如下所示

![1](./images/7-1.png)

以上示意图的代码实现已经在前面实验三“基于 Go 语言实现客户端/服务器端程序”的那小节讲过，这里就不再赘述了，忘记的同学可以回顾一下。

## 并发通讯服务案例实现（基于 Go 语言实现）

#### 显示客户端登录菜单

主要功能就是：可以正常的显示客户端选择的菜单
代码实现如下：

```go

```

#### 模拟完成用户登录

这里模拟完成用户登录是指：假定指定了用户id为1001，用户密码为dys123456的用户可以登录成功，其它用户不能登录成功，即这里为了方便演示就没有用到数据库来存储用户的帐号和密码了，而是固定写死了用户id和密码。



## 实验总结

以上是基于 Go 语言实现文件传输的案例，通过学习完本实验，大家可以知道将如何用 Go 语言对文件进行操作了，包括读、写和传输文件。本实验代码量相对前面实验说比较少，也比较简洁，但是对文件传输操作来说是比较经典的，希望同学们学完有所收获。
